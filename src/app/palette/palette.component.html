<ion-header>
  <ion-toolbar>
    <ion-title class="ubuntu-sans-mono">Meal Planner / Palette</ion-title>
    <ion-buttons slot="end">
      <ion-button class="toolbar-button ubuntu-sans-mono" (click)="refresh()">
        Refresh
      </ion-button>
      @if (this.isSendingEmail) {
      <ion-button class="toolbar-button ubuntu-sans-mono">
        <ion-spinner name="dots"></ion-spinner>
      </ion-button>
      } @else {
      <ion-button
        class="toolbar-button ubuntu-sans-mono"
        (click)="sendRecipesByEmail()"
      >
        Send to email
      </ion-button>
      }
      <ion-button
        class="toolbar-button ubuntu-sans-mono"
        (click)="presentToast('bottom', 'Test', 'success')"
      >
        Options
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="container-landscape">
    @if (recipesLoaded) {
    <ion-card
      *ngFor="let recipe of recipes; let i = index"
      (click)="this.lockItem(i)"
    >
      <ion-card-header
        [ngClass]="recipe.recipe.diet === 'Non-Meat' ? 'veggie' : 'meatie'"
      >
        <ion-card-title
          class="ubuntu-sans-mono"
          [ngClass]="recipe.locked ? 'locked' : ''"
          >{{ this.prettifyRecipeName(recipe.recipe.name) }}</ion-card-title
        >
      </ion-card-header>

      <ion-card-content class="kalam ingredients-list">
        <p class="ubuntu-sans-mono">
          {{ this.prettifyPrepTime(recipe.recipe.totalTime) | uppercase }}
        </p>
        <br />
        <div>
          {{ this.giveMeSimpleIngredientList(recipe.recipe.recipeIngredient) }}
        </div>
      </ion-card-content>
    </ion-card>
    } @else {
    <ion-card>
      <ion-card-header class="veggie">
        <ion-card-title class="ubuntu-sans-mono"
          ><ion-skeleton-text [animated]="true" style="width: 50%"
            ><br /></ion-skeleton-text
        ></ion-card-title>
        <!-- <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->
      </ion-card-header>

      <ion-card-content>
        <ion-skeleton-text
          [animated]="true"
          style="width: 100%; height: 60px"
        ></ion-skeleton-text>
      </ion-card-content>
    </ion-card>
    <ion-card>
      <ion-card-header class="veggie">
        <ion-card-title class="ubuntu-sans-mono"
          ><ion-skeleton-text [animated]="true" style="width: 50%"
            ><br /></ion-skeleton-text
        ></ion-card-title>
        <!-- <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->
      </ion-card-header>

      <ion-card-content>
        <ion-skeleton-text
          [animated]="true"
          style="width: 100%; height: 60px"
        ></ion-skeleton-text>
      </ion-card-content>
    </ion-card>
    <ion-card>
      <ion-card-header class="veggie">
        <ion-card-title class="ubuntu-sans-mono"
          ><ion-skeleton-text [animated]="true" style="width: 50%"
            ><br /></ion-skeleton-text
        ></ion-card-title>
        <!-- <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->
      </ion-card-header>

      <ion-card-content>
        <ion-skeleton-text
          [animated]="true"
          style="width: 100%; height: 60px"
        ></ion-skeleton-text>
      </ion-card-content>
    </ion-card>
    }
  </div>
  <div class="container-portrait"></div>
</ion-content>
<ion-footer><ion-title>Footer</ion-title></ion-footer>
